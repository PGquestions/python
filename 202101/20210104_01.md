# 函数（4）

函数的应用

+ 函数的内存地址
+ 函数名可以赋值给其他变量

+ 函数名可以作为容器类数据类型的地址
+ 函数名可以作为函数的参数
+ 函数名可以作为函数的返回值



### 格式化输出（3.6之后）

```python
count = 7
print(f"最终结果：{count**2}“)
```

f-strings 是python3.6开始加入标准库的格式化输出新的写法，这个格式化输出比之前的%s 或者 format 效率高并且更加简化，非常的好用

+ 优点：
  + 结构更加简化
  + 可以结合表达式、函数进行使用
  + 效率提升很多



### 迭代器

+ 可迭代对象

  + python中一切皆对象，一个实实在在存在的值，对象

  + 迭代：更新迭代，重复的，循环的一个过程。更新迭代每次都有一个新的内存，可以进行循环更新的一个实实在在的值。

  + 专业角度：内部含有\_\_iter\_\_方法的对象，就是可迭代对象

  + 如何判断一个对象是否是可迭代对象

    ```python
    print('__iter__' in dir(rang(10)))
    ```

  + 优点：

    + 存储的数据直接能显示，比较直观。
    + 拥有的方法比较多。

  + 缺点

    + 占用内存。
    + 不能直接for循环，不能直接取值。

+ 迭代器

  + 字面意思：更新迭代，器：工具，可迭代更新的工具
  + 专业角度：内部含有`'__iter__'`方法并且含有`'__next__'`方法的对象就是迭代器。
  + 优点：
    + 节省内存
    + 惰性机制，next一次，取一个值
  + 缺点：
    + 速度慢
    + 不走回头路
  
+ 可迭代对象与迭代器的对比

  + 可迭代对象是一个操作方法比较多，比较直观，存储数据相对少（几百万个对象，8G内存是可以承受的）的数据集
  + 当侧重于对数据可以灵活处理，并且内存空间足够，将数据设置为可迭代对象是明确的选择。
  + 迭代器是一个非常节省内存，可以记录取值位置，可以直接通过循环+next方法取值，但是不直观，操作方法比较单一的数据集
  + 当你的数据量过大，大到足以撑爆内存或者你以节省内存为首选因素时，将数据集设置为迭代器是一个不错的选择。

```python
#通过while循环模拟for循环
li = [1,2,3,4,5,6,7]
l1 = iter(li)
i = 0
while len(li) > i:
    print(next(l1))
    i += 1
    
li = [1,2,3,4,5,6,7]
l1 = iter(li)
while 1:
    try:
        print(next(l1))
    except StopIteration:
        break
```

