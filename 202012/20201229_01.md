# 文件操作

操作文件的必要条件：

1）路径：path

2）操作方式：读、写

3）编码方式：utf-8、Unicode

文件操作三步骤:

1）打开文件

2）对文件句柄进行相应操作

3）关闭文件

相对路径与绝对路径：

​	相对路径：用一个文件夹下的文件,相对于当前这个程序所在的文件而言.如果在同一个文件中,则相对路劲就是这个文件名.如果再上一层文件夹则要使用../相对路径下，你就可以直接写文件名即可。

​	绝对路径：从磁盘根目录开始一直到文件名

+ 文件操作的读

  + 以只读方式打开文件，是文件操作最常用的模式，也是默认模式。如果一个文件不设置mode,那么默认使用r模式操作文件。 

    ```python
    #read 全部读出来
    #read(n) 按字符读
    #readline() 按行读
    #readlines() 返回一个列表，列表中的每个元素是源文件的每一行
    #for 读取
    ```

    rb模式：以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。记住下面讲的也是一样，带b的都是以二进制的格式操作文件，他们主要是操作非文字文件：图片，音频，视频等,**并且如果你要是带有b的模式操作文件，那么不用声明编码方式。**

+ 文件操作的写

  + w
  + wb
  + w+
  + w+b

+ 文件操作的追加

  + a :没有文件，创建文件，追加内容，有文件，在原文件后面追加内容
  + ab：
  + a+
  + a+b

+ 文件操作的其他模式

  + r+:读并追加，要先读，在写

+ 文件操作的其他功能

  + tell():获取光标位置，单位字节
  + seek：调整光标位置。单位字节
  + flush：强制刷新

### 报错处理

![image-20201228223805005](C:\Users\wucaibin\AppData\Roaming\Typora\typora-user-images\image-20201228223805005.png)

OSError: [Errno 22] Invalid argument: 'D:\\Python\x0cile\x01.txt'

原因：路径有问题。Windows下的路径带有多个\。

解决方式：在路径的整体前面加一个r。



## 文件的改的操作

```python
'''
1.以读的模式打开原文件
2.以写的模式创建一个新文件
3.将原文件的内容读出来修改成新内容，写入新文件
4.删除原文件
5.重命名新文件
'''
```

